import{a as V,b as z,c as O,d as G,e as $,f as j,g as A,h as H,i as N,j as U,k as q}from"./chunk-F2DBR3M3.js";import{a as C}from"./chunk-LUNFMSVX.js";import{H as P,I as B,a as y}from"./chunk-I25GFFKI.js";import"./chunk-AOGXNLA7.js";import{$a as D,Ca as M,Da as l,Ga as L,Ia as s,K as f,Ka as m,La as F,Ma as g,O as x,P as v,bb as h,ca as d,da as _,ga as T,lb as R,ma as k,ra as S,ta as w,ua as I,va as b,wa as n,xa as a,ya as u,za as E}from"./chunk-KLZVGRBR.js";function Q(o,t){if(o&1&&(n(0,"div")(1,"ul")(2,"li"),s(3),a(),n(4,"li"),s(5),a(),n(6,"li"),s(7),a(),n(8,"li"),s(9),a(),n(10,"li"),s(11),a(),n(12,"li"),s(13),a()()()),o&2){let r=l();d(3),m("titolo: ",r.task.titolo,""),d(2),m("descrizione: ",r.task.descrizione,""),d(2),m("dipendente: ",r.task.dipendente.nome+" "+r.task.dipendente.cognome,""),d(2),m("stato: ",r.task.stato,""),d(2),m("data inizio: ",r.task.dataInizio,""),d(2),m("data fine: ",r.task.dataFine,"")}}var J=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=f({type:t,selectors:[["app-card-task"]],inputs:{task:"task"},standalone:!0,features:[g],decls:1,vars:1,consts:[[4,"ngIf"]],template:function(i,c){i&1&&S(0,Q,14,6,"div",0),i&2&&k("ngIf",c.task)},dependencies:[h,D],styles:["li[_ngcontent-%COMP%]{list-style-type:none}"]});let o=t;return o})();function W(o,t){if(o&1){let r=E();n(0,"mat-grid-tile")(1,"mat-card",5)(2,"mat-card-header")(3,"mat-card-title"),s(4),a()(),u(5,"mat-divider"),n(6,"mat-card-content",6),u(7,"app-card-task",7),a(),u(8,"mat-divider"),n(9,"mat-card-actions")(10,"button",8),M("click",function(){let c=x(r).$implicit,p=l();return v(p.aggiornaTaskCorrente(c))}),s(11,"Modifica"),a(),n(12,"button",9),M("click",function(){let c=x(r).$implicit,p=l();return p.aggiornaTaskCorrente(c),v(p.elimina(c.id_task))}),s(13,"Elimina"),a()()()()}if(o&2){let r=t.$implicit;d(4),m("Task ",r.id_task,""),d(3),k("task",r),d(3),L("routerLink","/tasks/modifica/",r.id_task,"")}}var kt=(()=>{let t=class t{constructor(e,i){this.taskService=e,this.destroyRef=i,this.tasks=new Array}ngOnInit(){this.taskService.getTasks().pipe(y(this.destroyRef)).subscribe({next:e=>this.tasks=e,error:e=>console.log(e)})}aggiornaTaskCorrente(e){this.taskCorrente=e}elimina(e){this.taskService.deleteTask(e).pipe(y(this.destroyRef)).subscribe({next:()=>{this.taskCorrente=void 0,this.tasks=this.tasks.filter(i=>i.id_task!==e)}})}};t.\u0275fac=function(i){return new(i||t)(_(C),_(T))},t.\u0275cmp=f({type:t,selectors:[["app-lista-tasks"]],standalone:!0,features:[F([C]),g],decls:11,vars:0,consts:[[1,"container"],["cols","4","rowHeight","3:3"],[2,"width","80%","height","68%","align-content","center"],[2,"width","100%","height","100%","align-content","center"],["mat-raised-button","","color","primary","routerLink","/tasks/new",2,"align-content","center","margin-top","25%","margin-left","29%"],[2,"width","80%","height","fit-content"],[2,"width","auto","height","auto"],[3,"task"],["mat-button","",2,"color","white","background-color","grey","margin-right","6%","margin-left","8%",3,"routerLink","click"],["mat-button","",2,"color","white","background-color","red",3,"click"]],template:function(i,c){i&1&&(n(0,"div",0)(1,"h1"),s(2,"Lista Tasks"),a(),n(3,"mat-grid-list",1),I(4,W,14,3,"mat-grid-tile",null,w),n(6,"mat-grid-tile")(7,"mat-card",2)(8,"mat-card-content",3)(9,"button",4),s(10,"+"),a()()()()()()),i&2&&(d(4),b(c.tasks))},dependencies:[h,J,R,O,z,V,B,P,$,G,q,j,N,H,U,A],styles:["mat-grid-tile[_ngcontent-%COMP%]{background:rgb(240,240,240);width:fit-content;height:fit-content}.container[_ngcontent-%COMP%]{margin-left:2%;margin-right:10%;margin-top:3%}"]});let o=t;return o})();export{kt as ListaTasksComponent};

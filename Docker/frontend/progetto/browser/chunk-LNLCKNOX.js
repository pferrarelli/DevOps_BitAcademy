import{a as $,b as H}from"./chunk-L3D3Z3Z7.js";import{a as x,b as p,d as O,e as R,f as G,h as u,i as j,j as q,k as z,l as A,m as B,p as P,q as V,r as U,s as L}from"./chunk-2ASXKKEH.js";import{a as c}from"./chunk-SEY23RSP.js";import{a as v}from"./chunk-6GA4IGI7.js";import{D as E,H as T,I as w,a as S}from"./chunk-I25GFFKI.js";import"./chunk-AOGXNLA7.js";import{Ca as y,Ia as o,Ja as N,K as h,La as k,Ma as C,_a as _,bb as D,ca as f,da as l,ga as F,kb as I,ma as s,ra as M,wa as t,xa as e,ya as d}from"./chunk-KLZVGRBR.js";function J(n,i){if(n&1&&(t(0,"mat-option",7),o(1),e()),n&2){let g=i.$implicit;s("value",g.id_dipendente),f(1),N(g.nome+" "+g.cognome)}}var ce=(()=>{let i=class i{constructor(r,a,m,b){this.taskService=r,this.dipendenteService=a,this.router=m,this.destroyRef=b,this.dipendenti=new Array,this.form=new G({titolo:new u("",{nonNullable:!0,validators:[p.required]}),descrizione:new u("",{nonNullable:!0,validators:[p.required]}),dataFine:new u("",{nonNullable:!0,validators:[p.required]}),id_dipendente:new u("",{nonNullable:!0,validators:[p.required]})})}ngOnInit(){this.dipendenteService.getDipendenti().pipe(S(this.destroyRef)).subscribe({next:r=>this.dipendenti=r,error:r=>console.log(r)})}back(){this.router.navigateByUrl("tasks")}aggiungiTask(){this.taskService.insertTaskParams(this.form.controls.titolo.value,this.form.controls.descrizione.value,this.form.controls.dataFine.value,Number.parseInt(this.form.controls.id_dipendente.value)).pipe(S(this.destroyRef)).subscribe({complete:()=>this.back()})}};i.\u0275fac=function(a){return new(a||i)(l(v),l(c),l(I),l(F))},i.\u0275cmp=h({type:i,selectors:[["app-new-task"]],standalone:!0,features:[k([v,c]),C],decls:23,vars:3,consts:[[2,"margin-top","5%",3,"formGroup","ngSubmit"],["matInput","","formControlName","titolo"],["matInput","","formControlName","descrizione"],["matInput","","formControlName","dataFine"],["formControlName","id_dipendente"],[3,"value",4,"ngFor","ngForOf"],["mat-stroked-button","","type","submit","color","primary",3,"disabled"],[3,"value"]],template:function(a,m){a&1&&(t(0,"form",0),y("ngSubmit",function(){return m.aggiungiTask()}),t(1,"h1"),o(2,"Aggiungi task"),e(),t(3,"mat-form-field")(4,"mat-label"),o(5,"Titolo"),e(),d(6,"input",1),e(),t(7,"mat-form-field")(8,"mat-label"),o(9,"Descrizione"),e(),d(10,"input",2),e(),t(11,"mat-form-field")(12,"mat-label"),o(13,"Data fine"),e(),d(14,"input",3),e(),t(15,"mat-form-field")(16,"mat-label"),o(17,"Dipendente"),e(),t(18,"mat-select",4),M(19,J,2,2,"mat-option",5),e()(),d(20,"hr"),t(21,"button",6),o(22,"Aggiungi"),e()()),a&2&&(s("formGroup",m.form),f(19),s("ngForOf",m.dipendenti),f(2),s("disabled",!m.form.valid))},dependencies:[D,_,A,j,x,O,R,q,z,L,U,P,B,V,w,T,H,$,E],styles:["mat-form-field[_ngcontent-%COMP%]{margin-right:3%}"]});let n=i;return n})();export{ce as NewTaskComponent};
